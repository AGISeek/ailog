# 智迹 (AIlog)

**智迹 (AIlog)** 是一款先进的 VS Code 扩展，专为智能跟踪和可视化您的编码活动而设计，特别专注于识别和归属由 AI 工具辅助生成的代码提交。它采用现代化的 SOLID 架构，具备先进的 AI 检测能力，并提供全面的仪表板来分析您的生产力以及 AI 对您工作的影响。

![仪表盘截图](https://user-images.githubusercontent.com/12345/placeholder.png) <!-- TODO: 待替换为真实截图 -->

## 功能特性

### 🤖 **先进的 AI 检测**
- **多维度分析**: 使用先进算法自动检测 AI 生成的代码
- **模式识别**: 识别 AI 生成的代码模式、语法完整性和样板结构
- **时间邻近检测**: 将代码变更与 AI 命令执行时间进行关联分析
- **手动覆盖**: 简单的状态栏切换器，支持手动 AI 归属标记

### 📊 **全面的仪表板**
- **丰富的分析**: 详细的 AI 生成提交和代码量指标
- **交互式图表**: 显示您的生产力随时间变化的可视化趋势
- **高级过滤**: 按仓库、分支或时间段进行过滤
- **实时更新**: 与您的提交历史进行实时数据同步

### 🏗️ **现代化架构**
- **SOLID 原则**: 遵循行业最佳实践的清洁、可维护代码
- **面向服务的设计**: 用于检测、Git 操作和 UI 管理的模块化服务
- **依赖注入**: 组件间松耦合，提高可测试性
- **全面文档**: 所有类和方法的完整 JSDoc 文档

### 🌍 **增强的用户体验**
- **国际化**: 完全支持英文和中文（中文）
- **主题感知界面**: 自动适应 VS Code 主题
- **离线能力**: 所有依赖打包，支持离线操作
- **人机交互循环**: 交互式提交归属决策工作流

### ⚙️ **无缝集成**
- **自动 Git 钩子**: 自动安装 pre-commit 和 post-commit 钩子
- **VS Code 集成**: 与 VS Code 的 UI 和工作流深度集成
- **跨平台**: 支持 Windows、macOS 和 Linux
- **数据库存储**: 本地 SQLite 数据库，快速、可靠的数据存储

## 工作原理

智迹使用复杂的多层方法来检测和跟踪 AI 生成的代码：

1. **实时检测**: 监控您的代码变更并应用 AI 检测算法
2. **Git 钩子集成**: 通过 Git 钩子自动捕获提交元数据
3. **数据分析**: 使用多个分析维度处理提交数据
4. **仪表板可视化**: 通过交互式 Web 仪表板展示洞察

## 安装

1. 从 VS Code 扩展市场安装扩展
2. 在 VS Code 中打开 Git 仓库
3. 扩展会提示您安装 Git 钩子 - 点击 **"安装钩子"**
4. 开始编码，让智迹跟踪您的 AI 辅助开发！

## 使用方法

### 基本工作流程
1. **自动检测**: 智迹自动检测 AI 生成的代码变更
2. **手动覆盖**: 点击状态栏切换器 (`AI 生成: ❌/✅`) 手动标记提交
3. **交互式确认**: 在提交前，选择是否将其归属于 AI
4. **仪表板分析**: 在全面的仪表板中查看您的 AI 编码模式

### 命令
- `智迹: 显示仪表板` - 打开分析仪表板
- `智迹: 安装 Git 钩子` - 安装 Git 钩子以进行自动跟踪
- `智迹: 切换 AI 生成` - 手动切换下一次提交的 AI 归属
- `智迹: 交互式提交检查` - 交互式预提交 AI 归属对话框

## 架构概览

智迹遵循 SOLID 原则，采用清洁、模块化的架构：

```
src/
├── commands/           # 命令处理器
├── managers/           # 核心协调逻辑
├── services/           # 业务逻辑服务
│   ├── detection/      # AI 检测算法
│   ├── git/           # Git 操作
│   └── ui/            # 用户界面服务
├── types/             # TypeScript 类型定义
├── lib/               # 工具库
├── database.ts        # SQLite 数据库操作
├── i18n.ts           # 国际化
└── extension.ts       # 主扩展入口点
```

### 关键组件

#### AI 检测系统
- **模式分析器**: 识别 AI 生成的代码模式
- **语法分析器**: 检查完整、格式良好的代码结构
- **注释分析器**: 评估注释质量和风格
- **样板分析器**: 检测常见代码模板
- **时间邻近分析器**: 将时间与 AI 工具使用相关联

#### 服务层
- **Git 服务**: 处理仓库操作和提交处理
- **UI 服务**: 管理状态栏、通知和仪表板
- **检测服务**: 协调 AI 检测算法

#### 管理层
- **扩展管理器**: 协调所有服务并管理生命周期
- **命令管理器**: 处理 VS Code 命令注册和执行
- **文档变更管理器**: 监控和处理文件变更

## 配置

智迹开箱即用，具有合理的默认设置，但您可以自定义：

- **检测敏感度**: 调整 AI 检测阈值
- **语言支持**: 启用/禁用特定语言的检测
- **仪表板首选项**: 自定义图表类型和数据可视化
- **国际化**: 在英文和中文界面之间切换

## 数据存储

- **本地数据库**: `~/.watch-cursor/commits.db` (SQLite)
- **隐私优先**: 所有数据保留在您的机器上
- **高效存储**: 优化的数据库架构，快速查询
- **备份友好**: 标准 SQLite 格式，易于备份/恢复

## 开发

智迹采用现代开发实践构建：

- **TypeScript**: 完整的类型安全和 IntelliSense 支持
- **ESLint**: 代码质量强制执行
- **模块化设计**: 易于扩展和维护
- **全面测试**: 使用扩展开发主机进行手动测试
- **文档**: 所有 API 的完整 JSDoc 覆盖

## 贡献

我们欢迎贡献！请：

1. 遵循现有的代码风格和架构
2. 确保 TypeScript 编译通过
3. 提交更改前运行代码检查
4. 使用扩展开发主机进行全面测试
5. 根据需要更新文档和翻译

## 许可证

本项目采用 MIT 许可证 - 详情请参阅 LICENSE 文件。

## 支持

- 📖 文档: 查看 [开发指南](DEVELOPMENT.zh-CN.md)
- 🐛 问题: 在 GitHub Issues 上报告 bug
- 💬 讨论: 加入我们的社区讨论
- 📧 联系: 联系维护者

---

**智迹 (AIlog)** - VS Code 的智能 AI 辅助开发跟踪